import{a1 as x,C as k,g as f,P as w,o,w as u,d as l,e as s,m as P,a as t,i as S,j as p,c as n,k as v,F as g,l as _,t as c,p as b,_ as V}from"./app-A6rt1Zcw.js";import{_ as j,a as B}from"./Layout.vue_vue_type_script_setup_true_lang-S5fWior0.js";import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang-CnFLI-IY.js";import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-CnEMg3Qw.js";import{S as C}from"./transition-DjP0VvYL.js";import"./index-BewGUgRO.js";const E={class:"flex flex-col space-y-6"},U={class:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2 lg:grid-cols-2"},q=["value"],A={key:0,class:"text-sm text-red-500"},D=["value"],F={key:0,class:"text-sm text-red-500"},M={class:"flex items-center gap-4"},Q={__name:"Preference",props:{user:Object,viharas:Array,panditas:Array,errors:Object},setup(i){const h=[{title:"Profile settings",href:"/settings/profile"}];x();const m=i,r=k({vihara_id:m.user.vihara_id,pandita_id:m.user.pandita_id});f(()=>r.kota_id,async d=>{if(d)try{const a=await(await fetch(route("groups.by.kota",d))).json();groups.value=a,r.group_id=m.dataumat.group_id,viharas.value=[]}catch(e){console.error("Error fetching groups:",e)}else groups.value=[],viharas.value=[],r.group_id="",r.vihara_id=""},{immediate:!0}),f(()=>r.group_id,async d=>{if(d)try{const a=await(await fetch(route("viharas.by.group",d))).json();viharas.value=a}catch(e){console.error("Error fetching viharas:",e)}else viharas.value=[],r.vihara_id=""},{immediate:!0});const y=()=>{r.patch(route("preference.update"),{preserveScroll:!0})};return(d,e)=>(o(),w($,{breadcrumbs:h},{default:u(()=>[l(s(P),{title:"Preference settings"}),l(j,null,{default:u(()=>[t("div",E,[l(B,{title:"Preference information",description:"Update setting preferensi anda"}),t("form",{onSubmit:S(y,["prevent"]),class:"space-y-6"},[t("div",U,[t("div",null,[e[3]||(e[3]=t("label",{for:"vihara_id",class:"block text-sm font-medium text-gray-700"},"Vihara",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>s(r).vihara_id=a),id:"vihara_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[2]||(e[2]=t("option",{value:"",disabled:""},"Pilih Vihara",-1)),(o(!0),n(g,null,_(i.viharas,a=>(o(),n("option",{key:a.id,value:a.id},c(a.nama_vihara),9,q))),128))],512),[[b,s(r).vihara_id]]),i.errors.vihara_id?(o(),n("p",A,c(i.errors.vihara_id),1)):v("",!0)]),t("div",null,[e[5]||(e[5]=t("label",{for:"pandita_id",class:"block text-sm font-medium text-gray-700"},"Pandita",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>s(r).pandita_id=a),id:"pandita_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[4]||(e[4]=t("option",{value:"",disabled:""},"Pilih Pandita",-1)),(o(!0),n(g,null,_(i.panditas,a=>(o(),n("option",{key:a.id,value:a.id},c(a.nama_pandita),9,D))),128))],512),[[b,s(r).pandita_id]]),i.errors.pandita_id?(o(),n("p",F,c(i.errors.pandita_id),1)):v("",!0)])]),t("div",M,[l(s(N),{disabled:s(r).processing},{default:u(()=>e[6]||(e[6]=[V("Save")])),_:1},8,["disabled"]),l(s(C),{show:s(r).recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:u(()=>e[7]||(e[7]=[t("p",{class:"text-sm text-neutral-600"},"Saved.",-1)])),_:1},8,["show"])])],32)])]),_:1})]),_:1}))}};export{Q as default};
