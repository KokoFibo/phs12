import{c as u,o as g,a as t,u as F,a1 as O,b as W,h as N,f as o,g as Z,d as x,e as i,m as Q,j as P,p as q,l as J,F as B,n as R,k as D,t as a,a2 as X,w as Y,a0 as l,a3 as tt,W as v}from"./app-MGHRrWdM.js";import{N as et}from"./Navbar-DIFlZRtY.js";import{d as at,r as rt}from"./debounce-XPQ_dLMp.js";import{_ as lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as nt,a as st}from"./TrashIcon-La5JPvUl.js";/* empty css                                                               */function ot(S,y){return g(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function dt(S,y){return g(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}const it={class:"mx-auto flex max-w-7xl flex-col rounded-xl p-4 text-sm bg-white dark:bg-gray-900 dark:text-gray-200"},ut={class:"flex w-full flex-col gap-2 md:flex-row md:items-center md:gap-5"},gt={class:"flex flex-col gap-2 md:flex-row md:gap-5"},pt={class:"flex w-full items-center justify-between gap-3"},xt={class:"w-full overflow-x-auto py-4"},mt={class:"min-w-full table-auto divide-y divide-gray-200 dark:divide-gray-700"},vt={class:"bg-gray-50 dark:bg-gray-800"},yt={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900"},kt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},ct={class:"flex space-x-2"},bt=["onClick"],ft=["onClick"],wt=["onClick"],ht={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},_t={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Ct={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},$t={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Tt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Dt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},St={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Mt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Vt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},Ut={class:"whitespace-normal px-4 py-2 text-sm text-gray-500 dark:text-gray-300"},At={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},jt={class:"rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800 dark:text-gray-200"},Nt={key:0,class:"py-4 text-center text-gray-500 dark:text-gray-400"},Pt={key:1,class:"mt-4 grid grid-cols-1 gap-6 text-sm md:grid-cols-2"},Bt={class:"text-sm leading-8 dark:text-gray-300"},Gt={class:"text-sm leading-8 dark:text-gray-300"},It={class:"mt-4 flex mx-auto items-center gap-5"},Lt=["disabled"],Kt={class:"text-sm text-gray-700 dark:text-gray-300"},Ht=["disabled"],zt={__name:"Index copy",setup(S){const y=F(),G=O(),M=W();console.log(M.user_role);const I=s=>{window.confirm("Apakah yakin ingin menghapus data ini?")&&v.delete(`/dataumats/${s}`,{onSuccess:()=>{y.success("Data Umat berhasil dihapus."),m()}})};N(()=>G.props.flash.toast,s=>{s!=null&&s.message&&y[s.type??"info"](s.message)},{immediate:!0});const V=o([]),p=o({}),b=o(""),f=o("id"),k=o("asc"),c=o(10),w=o(!1),n=o(null),h=o(null),_=o(null),C=o(null),$=o(null),T=o(!1);function L(s){T.value=!0,v.get(route("dataumats.detail",s),{},{preserveState:!0,onSuccess:e=>{n.value=e.props.umat,h.value=e.props.umur,_.value=e.props.chienkhun,C.value=e.props.vihara_asal,$.value=e.props.tanggal_mohon_Tao_lunar,w.value=!0,T.value=!1}})}function K(){w.value=!1,n.value=null,h.value=null,_.value=null,C.value=null,$.value=null}const H=s=>["乾","童"].includes(s)?"text-blue-500":"text-pink-500";function m(s=1){v.get("/dataumats",{search:b.value,sort_by:f.value,sort_order:k.value,per_page:c.value,page:s},{preserveState:!0,onSuccess:e=>{V.value=e.props.dataumats,p.value=e.props.pagination}})}function d(s){f.value===s?k.value=k.value==="asc"?"desc":"asc":(f.value=s,k.value="asc"),m()}const U=at(()=>{m()},500);function A(s){m(s)}Z(()=>{m()}),N(c,()=>{m()});function z(){v.visit("/dataumats/create")}function E(s){v.get(route("dataumats.edit",s))}return(s,e)=>(g(),u(B,null,[x(i(Q),{title:"Data Umat"}),x(et),t("div",it,[e[45]||(e[45]=t("div",{class:"mb-3 hidden rounded-lg border p-2 md:block dark:border-gray-700"},[t("h2",{class:"text-xl text-gray-500 dark:text-gray-300"},"Data Umat")],-1)),t("div",ut,[t("div",gt,[t("div",pt,[P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>b.value=r),type:"text",placeholder:"Cari data...",class:"w-3/4 rounded border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:focus:ring-blue-400 dark:text-gray-200",onInput:e[1]||(e[1]=(...r)=>i(U)&&i(U)(...r))},null,544),[[q,b.value]]),P(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>c.value=r),onChange:m,class:"w-1/4 rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:focus:border-blue-400 dark:focus:ring-blue-400"},e[16]||(e[16]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1)]),544),[[J,c.value]])])]),t("button",{onClick:z,class:"block rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white"},"Tambah Data")]),t("div",xt,[t("table",mt,[t("thead",vt,[t("tr",null,[e[17]||(e[17]=t("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"},"Aksi",-1)),t("th",{onClick:e[3]||(e[3]=r=>d("id")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," ID "),t("th",{onClick:e[4]||(e[4]=r=>d("nama_umat")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Nama Umat "),t("th",{onClick:e[5]||(e[5]=r=>d("nama_alias")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Alias "),t("th",{onClick:e[6]||(e[6]=r=>d("mandarin")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," 中文名 "),t("th",{onClick:e[7]||(e[7]=r=>d("tgl_lahir")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Umur "),t("th",{onClick:e[8]||(e[8]=r=>d("jenis_kelamin")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Gender "),t("th",{onClick:e[9]||(e[9]=r=>d("status")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Status "),t("th",{onClick:e[10]||(e[10]=r=>d("kota.nama_kota")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Kota "),t("th",{onClick:e[11]||(e[11]=r=>d("group.nama_group")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Group "),t("th",{onClick:e[12]||(e[12]=r=>d("vihara.nama_vihara")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Vihara "),t("th",{onClick:e[13]||(e[13]=r=>d("pandita.nama_pandita")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300"}," Pandita ")])]),t("tbody",yt,[(g(!0),u(B,null,R(V.value,r=>(g(),u("tr",{key:r.id},[t("td",kt,[t("div",ct,[t("button",{onClick:j=>E(r.id),class:"rounded bg-green-500 px-2 py-1 text-white hover:bg-yellow-600 dark:bg-green-600 dark:hover:bg-green-700 dark:text-white"},[x(i(nt),{class:"h-4 w-4"})],8,bt),i(M).user_role>1?(g(),u("button",{key:0,onClick:j=>I(r.id),class:"rounded bg-red-500 px-2 py-1 text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 dark:text-white"},[x(i(st),{class:"h-4 w-4"})],8,ft)):D("",!0),t("button",{onClick:j=>L(r.id),class:"rounded bg-blue-500 px-2 py-1 text-white hover:bg-red-600 dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white"},[x(i(rt),{class:"h-4 w-4"})],8,wt)])]),t("td",ht,a(r.id),1),t("td",_t,a(r.nama_umat),1),t("td",Ct,a(r.nama_alias),1),t("td",$t,a(r.mandarin),1),t("td",Tt,a(r.umur),1),t("td",{class:X(["whitespace-normal px-4 py-2 text-sm",H(r.chienkhun)])},a(r.chienkhun),3),t("td",Dt,a(r.status),1),t("td",St,a(r.kota_nama),1),t("td",Mt,a(r.group_nama),1),t("td",Vt,a(r.vihara_nama),1),t("td",Ut,a(r.pandita_nama),1)]))),128))])]),x(tt,{name:"fade"},{default:Y(()=>[w.value?(g(),u("div",At,[t("div",jt,[e[44]||(e[44]=t("h2",{class:"text-center text-lg font-semibold dark:text-gray-200"},"Detail Data Umat",-1)),T.value?(g(),u("div",Nt,"Loading...")):n.value?(g(),u("div",Pt,[t("div",Bt,[t("p",null,[e[18]||(e[18]=t("strong",null,"ID:",-1)),l(" "+a(n.value.id),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"Nama:",-1)),l(" "+a(n.value.nama_umat),1)]),t("p",null,[e[20]||(e[20]=t("strong",null,"Alias:",-1)),l(" "+a(n.value.nama_alias),1)]),t("p",null,[e[21]||(e[21]=t("strong",null,"Mandarin:",-1)),l(" "+a(n.value.mandarin),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Umur:",-1)),l(" "+a(h.value),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Gender:",-1)),l(" "+a(_.value),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Pengajak:",-1)),l(" "+a(n.value.pengajak),1)]),t("p",null,[e[25]||(e[25]=t("strong",null,"Pandita:",-1)),l(" "+a(n.value.pandita.nama_pandita),1)]),t("p",null,[e[26]||(e[26]=t("strong",null,"Tanggal Mohon Tao:",-1)),l(" "+a(n.value.tgl_mohonTao),1)]),t("p",null,[e[27]||(e[27]=t("strong",null,"Tanggal Mohon Tao (Lunar):",-1)),l(" "+a($.value),1)]),t("p",null,[e[28]||(e[28]=t("strong",null,"Group:",-1)),l(" "+a(n.value.group.nama_group),1)]),t("p",null,[e[29]||(e[29]=t("strong",null,"Alamat:",-1)),l(" "+a(n.value.alamat),1)]),t("p",null,[e[30]||(e[30]=t("strong",null,"Keterangan:",-1)),l(" "+a(n.value.keterangan),1)])]),t("div",Gt,[t("p",null,[e[31]||(e[31]=t("strong",null,"Kota:",-1)),l(" "+a(n.value.kota.nama_kota),1)]),t("p",null,[e[32]||(e[32]=t("strong",null,"Group:",-1)),l(" "+a(n.value.group.nama_group),1)]),t("p",null,[e[33]||(e[33]=t("strong",null,"Vihara Aktif:",-1)),l(" "+a(n.value.vihara.nama_vihara),1)]),t("p",null,[e[34]||(e[34]=t("strong",null,"Vihara Asal:",-1)),l(" "+a(C.value),1)]),t("p",null,[e[35]||(e[35]=t("strong",null,"Pandita:",-1)),l(" "+a(n.value.pandita.nama_pandita),1)]),t("p",null,[e[36]||(e[36]=t("strong",null,"HP:",-1)),l(" "+a(n.value.hp),1)]),t("p",null,[e[37]||(e[37]=t("strong",null,"Telp:",-1)),l(" "+a(n.value.telp),1)]),t("p",null,[e[38]||(e[38]=t("strong",null,"Penjamin:",-1)),l(" "+a(n.value.penjamin),1)]),t("p",null,[e[39]||(e[39]=t("strong",null,"Tanggal Sidang Dharma 3 Hari :",-1)),l(" "+a(n.value.tgl_sd3h),1)]),t("p",null,[e[40]||(e[40]=t("strong",null,"Tanggal Vegetarian Total :",-1)),l(" "+a(n.value.tgl_vtotal),1)]),t("p",null,[e[41]||(e[41]=t("strong",null,"Kota:",-1)),l(" "+a(n.value.kota.nama_kota),1)]),t("p",null,[e[42]||(e[42]=t("strong",null,"Vihara:",-1)),l(" "+a(n.value.vihara.nama_vihara),1)]),t("p",null,[e[43]||(e[43]=t("strong",null,"Status:",-1)),l(" "+a(n.value.status),1)])])])):D("",!0),t("button",{onClick:K,class:"mt-6 w-full rounded bg-red-500 px-4 py-2 text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 dark:text-white"},"Tutup")])])):D("",!0)]),_:1})]),t("div",It,[t("button",{disabled:p.value.current_page===1,onClick:e[14]||(e[14]=r=>A(p.value.current_page-1)),class:"rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600 disabled:opacity-50 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white"},[x(i(ot),{class:"h-5 w-5"})],8,Lt),t("span",Kt," Halaman "+a(p.value.current_page)+" dari "+a(p.value.last_page),1),t("button",{disabled:p.value.current_page===p.value.last_page,onClick:e[15]||(e[15]=r=>A(p.value.current_page+1)),class:"rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600 disabled:opacity-50 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white"},[x(i(dt),{class:"h-5 w-5"})],8,Ht)])])],64))}},qt=lt(zt,[["__scopeId","data-v-f7d129d0"]]);export{qt as default};
