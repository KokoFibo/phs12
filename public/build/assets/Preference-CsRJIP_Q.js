import{Z as k,C as w,h as v,c as d,o as n,d as i,a as t,e as s,m as S,w as u,i as V,j as g,k as _,Y as f,F as p,n as b,t as c,l as h}from"./app-BmU3gxfe.js";import{a as P,_ as N}from"./Layout.vue_vue_type_script_setup_true_lang-d3tutsGS.js";import{N as j}from"./Navbar-ULjySCbb.js";import{_ as $}from"./index-MGYshRIJ.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-DcDVw9pY.js";import{S as B}from"./transition-KFd1SG_0.js";/* empty css                                                               */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./log-out-CkCvTiNB.js";import"./createLucideIcon-D2VMOQxR.js";const C={class:"mx-auto flex max-w-7xl flex-col rounded-xl p-4 text-sm"},E={class:"flex flex-col space-y-6"},U={class:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2 lg:grid-cols-2"},q=["value"],A={key:0,class:"text-sm text-red-500"},D=["value"],F={key:0,class:"text-sm text-red-500"},M={class:"flex items-center gap-4"},W={__name:"Preference",props:{user:Object,viharas:Array,panditas:Array,errors:Object},setup(o){k();const m=o,a=w({vihara_id:m.user.vihara_id,pandita_id:m.user.pandita_id});v(()=>a.kota_id,async l=>{if(l)try{const r=await(await fetch(route("groups.by.kota",l))).json();groups.value=r,a.group_id=m.dataumat.group_id,viharas.value=[]}catch(e){console.error("Error fetching groups:",e)}else groups.value=[],viharas.value=[],a.group_id="",a.vihara_id=""},{immediate:!0}),v(()=>a.group_id,async l=>{if(l)try{const r=await(await fetch(route("viharas.by.group",l))).json();viharas.value=r}catch(e){console.error("Error fetching viharas:",e)}else viharas.value=[],a.vihara_id=""},{immediate:!0});const x=()=>{a.patch(route("preference.update"),{preserveScroll:!0})};return(l,e)=>(n(),d(p,null,[i(j),i(s(S),{title:"Preference settings"}),t("div",C,[i(N,null,{default:u(()=>[t("div",E,[i(P,{title:"Preference information",description:"Update setting preferensi anda"}),t("form",{onSubmit:V(x,["prevent"]),class:"space-y-6"},[t("div",U,[t("div",null,[i(s(y),{for:"vihara_id"},{default:u(()=>e[2]||(e[2]=[f("Vihara")])),_:1}),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s(a).vihara_id=r),id:"vihara_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:focus:border-blue-400 dark:focus:ring-blue-400",required:""},[e[3]||(e[3]=t("option",{value:"",disabled:""},"Pilih Vihara",-1)),(n(!0),d(p,null,b(o.viharas,r=>(n(),d("option",{key:r.id,value:r.id},c(r.nama_vihara),9,q))),128))],512),[[h,s(a).vihara_id]]),o.errors.vihara_id?(n(),d("p",A,c(o.errors.vihara_id),1)):_("",!0)]),t("div",null,[i(s(y),{for:"pandita_id"},{default:u(()=>e[4]||(e[4]=[f("Pandita")])),_:1}),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(a).pandita_id=r),id:"pandita_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:focus:border-blue-400 dark:focus:ring-blue-400",required:""},[e[5]||(e[5]=t("option",{value:"",disabled:""},"Pilih Pandita",-1)),(n(!0),d(p,null,b(o.panditas,r=>(n(),d("option",{key:r.id,value:r.id},c(r.nama_pandita),9,D))),128))],512),[[h,s(a).pandita_id]]),o.errors.pandita_id?(n(),d("p",F,c(o.errors.pandita_id),1)):_("",!0)])]),t("div",M,[i(s($),{disabled:s(a).processing},{default:u(()=>e[6]||(e[6]=[f("Save")])),_:1},8,["disabled"]),i(s(B),{show:s(a).recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:u(()=>e[7]||(e[7]=[t("p",{class:"text-sm text-neutral-600"},"Saved.",-1)])),_:1},8,["show"])])],32)])]),_:1})])],64))}};export{W as default};
