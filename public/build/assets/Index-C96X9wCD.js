import{c as k,o as T,a as t,$ as A,a0 as Se,u as je,a1 as Ce,b as qe,g as ae,f as h,s as Oe,d as $,e as q,m as Ie,w as se,j as oe,q as $e,p as Re,F as ie,l as De,k as V,t as r,n as Ge,a2 as Me,_ as l,W as E}from"./app-DBJybz8b.js";import{a as Ne,_ as Ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CdXGJztt.js";import{r as Ae,a as Le}from"./TrashIcon-C9_F1bDk.js";import"./Button.vue_vue_type_script_setup_true_lang-DYmzf21f.js";import"./index-Ck-2Ldst.js";function Pe(s,a){return T(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function Ue(s,a){return T(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function Ve(s,a){return T(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule":"evenodd"})])}var B,le;function _e(){if(le)return B;le=1;function s(a){var d=typeof a;return a!=null&&(d=="object"||d=="function")}return B=s,B}var W,ue;function Be(){if(ue)return W;ue=1;var s=typeof A=="object"&&A&&A.Object===Object&&A;return W=s,W}var F,de;function ke(){if(de)return F;de=1;var s=Be(),a=typeof self=="object"&&self&&self.Object===Object&&self,d=s||a||Function("return this")();return F=d,F}var H,pe;function We(){if(pe)return H;pe=1;var s=ke(),a=function(){return s.Date.now()};return H=a,H}var K,ge;function Fe(){if(ge)return K;ge=1;var s=/\s/;function a(d){for(var p=d.length;p--&&s.test(d.charAt(p)););return p}return K=a,K}var Z,me;function He(){if(me)return Z;me=1;var s=Fe(),a=/^\s+/;function d(p){return p&&p.slice(0,s(p)+1).replace(a,"")}return Z=d,Z}var z,ce;function Te(){if(ce)return z;ce=1;var s=ke(),a=s.Symbol;return z=a,z}var Q,ve;function Ke(){if(ve)return Q;ve=1;var s=Te(),a=Object.prototype,d=a.hasOwnProperty,p=a.toString,m=s?s.toStringTag:void 0;function _(x){var g=d.call(x,m),v=x[m];try{x[m]=void 0;var o=!0}catch{}var c=p.call(x);return o&&(g?x[m]=v:delete x[m]),c}return Q=_,Q}var X,fe;function Ze(){if(fe)return X;fe=1;var s=Object.prototype,a=s.toString;function d(p){return a.call(p)}return X=d,X}var J,xe;function ze(){if(xe)return J;xe=1;var s=Te(),a=Ke(),d=Ze(),p="[object Null]",m="[object Undefined]",_=s?s.toStringTag:void 0;function x(g){return g==null?g===void 0?m:p:_&&_ in Object(g)?a(g):d(g)}return J=x,J}var Y,be;function Qe(){if(be)return Y;be=1;function s(a){return a!=null&&typeof a=="object"}return Y=s,Y}var ee,ye;function Xe(){if(ye)return ee;ye=1;var s=ze(),a=Qe(),d="[object Symbol]";function p(m){return typeof m=="symbol"||a(m)&&s(m)==d}return ee=p,ee}var te,he;function Je(){if(he)return te;he=1;var s=He(),a=_e(),d=Xe(),p=NaN,m=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,x=/^0o[0-7]+$/i,g=parseInt;function v(o){if(typeof o=="number")return o;if(d(o))return p;if(a(o)){var c=typeof o.valueOf=="function"?o.valueOf():o;o=a(c)?c+"":c}if(typeof o!="string")return o===0?o:+o;o=s(o);var b=_.test(o);return b||x.test(o)?g(o.slice(2),b?2:8):m.test(o)?p:+o}return te=v,te}var ne,we;function Ye(){if(we)return ne;we=1;var s=_e(),a=We(),d=Je(),p="Expected a function",m=Math.max,_=Math.min;function x(g,v,o){var c,b,O,i,f,w,S=0,D=!1,j=!1,G=!0;if(typeof g!="function")throw new TypeError(p);v=d(v)||0,s(o)&&(D=!!o.leading,j="maxWait"in o,O=j?m(d(o.maxWait)||0,v):O,G="trailing"in o?!!o.trailing:G);function M(e){var n=c,I=b;return c=b=void 0,S=e,i=g.apply(I,n),i}function L(e){return S=e,f=setTimeout(R,v),D?M(e):i}function C(e){var n=e-w,I=e-S,re=v-n;return j?_(re,O-I):re}function y(e){var n=e-w,I=e-S;return w===void 0||n>=v||n<0||j&&I>=O}function R(){var e=a();if(y(e))return N(e);f=setTimeout(R,C(e))}function N(e){return f=void 0,G&&c?M(e):(c=b=void 0,i)}function P(){f!==void 0&&clearTimeout(f),S=0,c=w=b=f=void 0}function U(){return f===void 0?i:N(a())}function u(){var e=a(),n=y(e);if(c=arguments,b=this,w=e,n){if(f===void 0)return L(w);if(j)return clearTimeout(f),f=setTimeout(R,v),M(w)}return f===void 0&&(f=setTimeout(R,v)),i}return u.cancel=P,u.flush=U,u}return ne=x,ne}var et=Ye();const tt=Se(et),nt={class:"py-6 sm:px-6 lg:px-8"},rt={class:"mb-4 flex items-center gap-5"},at={class:"flex items-center space-x-4"},st={class:"w-full overflow-x-auto py-4"},ot={class:"min-w-full table-auto divide-y divide-gray-200"},it={class:"bg-gray-50"},lt={class:"divide-y divide-gray-200 bg-white"},ut={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},dt={class:"flex space-x-2"},pt=["onClick"],gt=["onClick"],mt=["onClick"],ct={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},vt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},ft={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},xt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},bt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},yt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},ht={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},wt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},_t={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},kt={class:"whitespace-normal px-4 py-2 text-sm text-gray-500"},Tt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},St={class:"rounded-lg bg-white p-6 shadow-lg"},jt={key:0,class:"py-4 text-center text-gray-500"},Ct={key:1,class:"mt-4 grid grid-cols-1 gap-6 text-sm md:grid-cols-2"},qt={class:"text-sm leading-8"},Ot={class:"text-sm leading-8"},It={class:"mt-4 flex items-center gap-5"},$t=["disabled"],Rt={class:"text-sm text-gray-700"},Dt=["disabled"],Gt={__name:"Index",setup(s){const a=je(),d=Ce(),p=qe();console.log(p.user_role);const m=u=>{window.confirm("Apakah yakin ingin menghapus data ini?")&&E.delete(`/dataumats/${u}`,{onSuccess:()=>{a.success("Data Umat berhasil dihapus."),C()}})};ae(()=>d.props.flash.toast,u=>{u!=null&&u.message&&a[u.type??"info"](u.message)},{immediate:!0});const _=[{title:"Data Umat",href:"/dataumats"}],x=h([]),g=h({}),v=h(""),o=h("id"),c=h("asc"),b=h(10),O=h(!1),i=h(null),f=h(null),w=h(null),S=h(null),D=h(null),j=h(!1);function G(u){j.value=!0,E.get(route("dataumats.detail",u),{},{preserveState:!0,onSuccess:e=>{i.value=e.props.umat,f.value=e.props.umur,w.value=e.props.chienkhun,S.value=e.props.vihara_asal,D.value=e.props.tanggal_mohon_Tao_lunar,O.value=!0,j.value=!1}})}function M(){O.value=!1,i.value=null,f.value=null,w.value=null,S.value=null,D.value=null}const L=u=>["乾","童"].includes(u)?"text-blue-500":"text-pink-500";function C(u=1){E.get("/dataumats",{search:v.value,sort_by:o.value,sort_order:c.value,per_page:b.value,page:u},{preserveState:!0,onSuccess:e=>{x.value=e.props.dataumats,g.value=e.props.pagination}})}function y(u){o.value===u?c.value=c.value==="asc"?"desc":"asc":(o.value=u,c.value="asc"),C()}const R=tt(()=>{C()},500);function N(u){C(u)}Oe(()=>{C()}),ae(b,()=>{C()});function P(){E.visit("/dataumats/create")}function U(u){E.get(route("dataumats.edit",u))}return(u,e)=>(T(),k(ie,null,[$(q(Ie),{title:"Data Umat"}),$(Ee,{breadcrumbs:_},{default:se(()=>[t("div",nt,[t("div",rt,[t("div",null,[oe(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>v.value=n),type:"text",placeholder:"Cari data...",class:"rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",onInput:e[1]||(e[1]=(...n)=>q(R)&&q(R)(...n))},null,544),[[$e,v.value]])]),t("div",at,[oe(t("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>b.value=n),onChange:C,class:"rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"},e[16]||(e[16]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1)]),544),[[Re,b.value]]),t("button",{onClick:P,class:"rounded bg-green-500 px-4 py-2 text-white hover:bg-green-600"},"Tambah Data")])]),t("div",st,[t("table",ot,[t("thead",it,[t("tr",null,[e[17]||(e[17]=t("th",{class:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Aksi",-1)),t("th",{onClick:e[3]||(e[3]=n=>y("id")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," ID "),t("th",{onClick:e[4]||(e[4]=n=>y("nama_umat")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Nama Umat "),t("th",{onClick:e[5]||(e[5]=n=>y("nama_alias")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Alias "),t("th",{onClick:e[6]||(e[6]=n=>y("mandarin")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," 中文名 "),t("th",{onClick:e[7]||(e[7]=n=>y("tgl_lahir")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Umur "),t("th",{onClick:e[8]||(e[8]=n=>y("jenis_kelamin")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Gender "),t("th",{onClick:e[9]||(e[9]=n=>y("status")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Status "),t("th",{onClick:e[10]||(e[10]=n=>y("kota.nama_kota")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Kota "),t("th",{onClick:e[11]||(e[11]=n=>y("group.nama_group")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Group "),t("th",{onClick:e[12]||(e[12]=n=>y("vihara.nama_vihara")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Vihara "),t("th",{onClick:e[13]||(e[13]=n=>y("pandita.nama_pandita")),class:"cursor-pointer px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Pandita ")])]),t("tbody",lt,[(T(!0),k(ie,null,De(x.value,n=>(T(),k("tr",{key:n.id},[t("td",ut,[t("div",dt,[t("button",{onClick:I=>U(n.id),class:"rounded bg-green-500 px-2 py-1 text-white hover:bg-yellow-600"},[$(q(Ae),{class:"h-4 w-4"})],8,pt),q(p).user_role>1?(T(),k("button",{key:0,onClick:I=>m(n.id),class:"rounded bg-red-500 px-2 py-1 text-white hover:bg-red-600"},[$(q(Le),{class:"h-4 w-4"})],8,gt)):V("",!0),t("button",{onClick:I=>G(n.id),class:"rounded bg-blue-500 px-2 py-1 text-white hover:bg-red-600"},[$(q(Ve),{class:"h-4 w-4"})],8,mt)])]),t("td",ct,r(n.id),1),t("td",vt,r(n.nama_umat),1),t("td",ft,r(n.nama_alias),1),t("td",xt,r(n.mandarin),1),t("td",bt,r(n.umur),1),t("td",{class:Ge(["whitespace-normal px-4 py-2 text-sm",L(n.chienkhun)])},r(n.chienkhun),3),t("td",yt,r(n.status),1),t("td",ht,r(n.kota_nama),1),t("td",wt,r(n.group_nama),1),t("td",_t,r(n.vihara_nama),1),t("td",kt,r(n.pandita_nama),1)]))),128))])]),$(Me,{name:"fade"},{default:se(()=>[O.value?(T(),k("div",Tt,[t("div",St,[e[44]||(e[44]=t("h2",{class:"text-center text-lg font-semibold"},"Detail Data Umat",-1)),j.value?(T(),k("div",jt,"Loading...")):i.value?(T(),k("div",Ct,[t("div",qt,[t("p",null,[e[18]||(e[18]=t("strong",null,"ID:",-1)),l(" "+r(i.value.id),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"Nama:",-1)),l(" "+r(i.value.nama_umat),1)]),t("p",null,[e[20]||(e[20]=t("strong",null,"Alias:",-1)),l(" "+r(i.value.nama_alias),1)]),t("p",null,[e[21]||(e[21]=t("strong",null,"Mandarin:",-1)),l(" "+r(i.value.mandarin),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Umur:",-1)),l(" "+r(f.value),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Gender:",-1)),l(" "+r(w.value),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Pengajak:",-1)),l(" "+r(i.value.pengajak),1)]),t("p",null,[e[25]||(e[25]=t("strong",null,"Pandita:",-1)),l(" "+r(i.value.pandita.nama_pandita),1)]),t("p",null,[e[26]||(e[26]=t("strong",null,"Tanggal Mohon Tao:",-1)),l(" "+r(i.value.tgl_mohonTao),1)]),t("p",null,[e[27]||(e[27]=t("strong",null,"Tanggal Mohon Tao (Lunar):",-1)),l(" "+r(D.value),1)]),t("p",null,[e[28]||(e[28]=t("strong",null,"Group:",-1)),l(" "+r(i.value.group.nama_group),1)]),t("p",null,[e[29]||(e[29]=t("strong",null,"Alamat:",-1)),l(" "+r(i.value.alamat),1)]),t("p",null,[e[30]||(e[30]=t("strong",null,"Keterangan:",-1)),l(" "+r(i.value.status),1)])]),t("div",Ot,[t("p",null,[e[31]||(e[31]=t("strong",null,"Kota:",-1)),l(" "+r(i.value.kota.nama_kota),1)]),t("p",null,[e[32]||(e[32]=t("strong",null,"Group:",-1)),l(" "+r(i.value.group.nama_group),1)]),t("p",null,[e[33]||(e[33]=t("strong",null,"Vihara Aktif:",-1)),l(" "+r(i.value.vihara.nama_vihara),1)]),t("p",null,[e[34]||(e[34]=t("strong",null,"Vihara Asal:",-1)),l(" "+r(S.value),1)]),t("p",null,[e[35]||(e[35]=t("strong",null,"Pandita:",-1)),l(" "+r(i.value.pandita.nama_pandita),1)]),t("p",null,[e[36]||(e[36]=t("strong",null,"HP:",-1)),l(" "+r(i.value.hp),1)]),t("p",null,[e[37]||(e[37]=t("strong",null,"Telp:",-1)),l(" "+r(i.value.telp),1)]),t("p",null,[e[38]||(e[38]=t("strong",null,"Penjamin:",-1)),l(" "+r(i.value.penjamin),1)]),t("p",null,[e[39]||(e[39]=t("strong",null,"Tanggal Sidang Dharma 3 Hari :",-1)),l(" "+r(i.value.tgl_sd3h),1)]),t("p",null,[e[40]||(e[40]=t("strong",null,"Tanggal Vegetarian Total :",-1)),l(" "+r(i.value.tgl_vtotal),1)]),t("p",null,[e[41]||(e[41]=t("strong",null,"Kota:",-1)),l(" "+r(i.value.kota.nama_kota),1)]),t("p",null,[e[42]||(e[42]=t("strong",null,"Vihara:",-1)),l(" "+r(i.value.vihara.nama_vihara),1)]),t("p",null,[e[43]||(e[43]=t("strong",null,"Status:",-1)),l(" "+r(i.value.status),1)])])])):V("",!0),t("button",{onClick:M,class:"mt-6 w-full rounded bg-red-500 px-4 py-2 text-white hover:bg-red-600"},"Tutup")])])):V("",!0)]),_:1})]),t("div",It,[t("button",{disabled:g.value.current_page===1,onClick:e[14]||(e[14]=n=>N(g.value.current_page-1)),class:"rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600 disabled:opacity-50"},[$(q(Pe),{class:"h-5 w-5"})],8,$t),t("span",Rt," Halaman "+r(g.value.current_page)+" dari "+r(g.value.last_page),1),t("button",{disabled:g.value.current_page===g.value.last_page,onClick:e[15]||(e[15]=n=>N(g.value.current_page+1)),class:"rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600 disabled:opacity-50"},[$(q(Ue),{class:"h-5 w-5"})],8,Dt)])])]),_:1})],64))}},Pt=Ne(Gt,[["__scopeId","data-v-3e0771b4"]]);export{Pt as default};
