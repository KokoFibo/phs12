import{u as D,a1 as F,g as P,f as p,c as a,o as r,d as l,e as n,m as N,w as v,a as t,j as c,q as O,p as x,F as m,l as y,t as u,a3 as k,_ as S,W as w}from"./app-BmCHij79.js";import{_ as T}from"./Pagination-1VoECAbr.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-sezRObGn.js";import{r as $,a as B}from"./TrashIcon-CLPDvMMy.js";import"./Button.vue_vue_type_script_setup_true_lang-fCyxLkjf.js";import"./index-8PfqCJ6u.js";const G={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},A={class:"mb-4 flex items-center justify-between"},E={class:"flex gap-5"},I=["value"],K=["value"],M={class:"min-w-full border bg-white"},W={class:"p-2"},q={class:"p-2"},L={class:"p-2"},z={class:"flex space-x-2 p-2"},H=["onClick"],te={__name:"Index",props:{viharas:Object,groups:Object,kotas:Object,filters:Object},setup(i){const _=D(),V=F(),C=s=>{window.confirm("Apakah yakin ingin menghapus data ini?")&&w.delete(route("viharas.destroy",s))};P(()=>V.props.flash.toast,s=>{s!=null&&s.message&&_[s.type??"info"](s.message)},{immediate:!0});const j=[{title:"Vihara",href:"/viharas"}],b=p(""),g=p(10),f=p(""),h=p("");async function d(){try{const s=await new Promise((o,e)=>{w.get("/viharas",{search:b.value,perPage:g.value,groupFilter:f.value,kotaFilter:h.value},{preserveState:!0,onSuccess:o,onError:e})});console.log("Data berhasil dimuat",s.props)}catch(s){console.error("Gagal memuat data:",s)}}return(s,o)=>(r(),a(m,null,[l(n(N),{title:"Vihara"}),l(U,{breadcrumbs:j},{default:v(()=>[t("div",G,[t("div",A,[t("div",E,[c(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>b.value=e),type:"text",placeholder:"Cari ...",class:"rounded border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:d},null,544),[[O,b.value]]),c(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>g.value=e),onChange:d,class:"rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"},o[4]||(o[4]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1)]),544),[[x,g.value]]),c(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>f.value=e),onChange:d,class:"rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"},[o[5]||(o[5]=t("option",{value:""},"Pilih Group",-1)),(r(!0),a(m,null,y(i.groups,e=>(r(),a("option",{key:e.id,value:e.id},u(e.nama_group),9,I))),128))],544),[[x,f.value]]),c(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>h.value=e),onChange:d,class:"rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"},[o[6]||(o[6]=t("option",{value:""},"Pilih Kota",-1)),(r(!0),a(m,null,y(i.kotas,e=>(r(),a("option",{key:e.id,value:e.id},u(e.nama_kota),9,K))),128))],544),[[x,h.value]])]),l(n(k),{href:s.route("viharas.create"),class:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600"},{default:v(()=>o[7]||(o[7]=[S(" Tambah Data Vihara ")])),_:1},8,["href"])]),t("table",M,[o[8]||(o[8]=t("thead",null,[t("tr",null,[t("th",{class:"border-b p-2 text-left font-medium text-gray-700"},"Nama Vihara"),t("th",{class:"border-b p-2 text-left font-medium text-gray-700"},"Group"),t("th",{class:"border-b p-2 text-left font-medium text-gray-700"},"Kota"),t("th",{class:"border-b p-2 text-left font-medium text-gray-700"},"Aksi")])],-1)),t("tbody",null,[(r(!0),a(m,null,y(i.viharas.data,e=>(r(),a("tr",{key:e.id,class:"border-b text-sm"},[t("td",W,u(e.nama_vihara),1),t("td",q,u(e.group?e.group.nama_group:"-"),1),t("td",L,u(e.group&&e.group.kota?e.group.kota.nama_kota:"-"),1),t("td",z,[l(n(k),{href:s.route("viharas.edit",e.id),class:"rounded bg-green-500 px-2 py-1 text-sm text-white hover:bg-green-600"},{default:v(()=>[l(n($),{class:"h-4 w-4"})]),_:2},1032,["href"]),t("button",{onClick:J=>C(e.id),class:"rounded bg-red-500 px-2 py-1 text-sm text-white hover:bg-red-600"},[l(n(B),{class:"h-4 w-4"})],8,H)])]))),128))])]),l(T,{links:i.viharas.links},null,8,["links"])])]),_:1})],64))}};export{te as default};
