import{I as P,C as V,f as k,g as x,A as S,o as s,w as c,e as f,u as o,m as j,b as t,i as A,j as p,a as i,k as b,F as g,l as v,t as l,v as _,y as U}from"./app-B3we3u2G.js";import{_ as q,a as B}from"./Layout.vue_vue_type_script_setup_true_lang-BHfF_fQx.js";import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang-CtyIW41l.js";import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-C00aRdNY.js";import{S as C}from"./transition-CHT2OkK_.js";import"./index-BZ18ODA4.js";const E={class:"flex flex-col space-y-6"},D={class:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2 lg:grid-cols-2"},F=["value"],M={key:0,class:"text-sm text-red-500"},O=["value"],G={key:0,class:"text-sm text-red-500"},K=["value"],L={key:0,class:"text-sm text-red-500"},T=["value"],z={key:0,class:"text-sm text-red-500"},H={class:"flex items-center gap-4"},Z={__name:"Preference",props:{user:Object,kotas:Array,groups:Array,viharas:Array,panditas:Array,errors:Object},setup(d){const h=[{title:"Profile settings",href:"/settings/profile"}];P();const u=d,a=V({kota_id:u.user.kota_id,group_id:u.user.group_id,vihara_id:u.user.vihara_id,pandita_id:u.user.pandita_id}),y=k([]),m=k([]);x(()=>a.kota_id,async n=>{if(n)try{const r=await(await fetch(route("groups.by.kota",n))).json();y.value=r,a.group_id=u.dataumat.group_id,m.value=[]}catch(e){console.error("Error fetching groups:",e)}else y.value=[],m.value=[],a.group_id="",a.vihara_id=""},{immediate:!0}),x(()=>a.group_id,async n=>{if(n)try{const r=await(await fetch(route("viharas.by.group",n))).json();m.value=r}catch(e){console.error("Error fetching viharas:",e)}else m.value=[],a.vihara_id=""},{immediate:!0});const w=()=>{a.patch(route("preference.update"),{preserveScroll:!0})};return(n,e)=>(s(),S($,{breadcrumbs:h},{default:c(()=>[f(o(j),{title:"Preference settings"}),f(q,null,{default:c(()=>[t("div",E,[f(B,{title:"Preference information",description:"Update setting preferensi anda"}),t("form",{onSubmit:A(w,["prevent"]),class:"space-y-6"},[t("div",D,[t("div",null,[e[5]||(e[5]=t("label",{for:"kota_id",class:"block text-sm font-medium text-gray-700"},"Kota",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).kota_id=r),id:"kota_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[4]||(e[4]=t("option",{value:"",disabled:""},"Pilih Kota",-1)),(s(!0),i(g,null,v(d.kotas,r=>(s(),i("option",{key:r.id,value:r.id},l(r.nama_kota),9,F))),128))],512),[[_,o(a).kota_id]]),d.errors.kota_id?(s(),i("p",M,l(d.errors.kota_id),1)):b("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{for:"group_id",class:"block text-sm font-medium text-gray-700"},"Group",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).group_id=r),id:"group_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[6]||(e[6]=t("option",{value:"",disabled:""},"Pilih Group",-1)),(s(!0),i(g,null,v(y.value,r=>(s(),i("option",{key:r.id,value:r.id},l(r.nama_group),9,O))),128))],512),[[_,o(a).group_id]]),d.errors.group_id?(s(),i("p",G,l(d.errors.group_id),1)):b("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"vihara_id",class:"block text-sm font-medium text-gray-700"},"Vihara",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(a).vihara_id=r),id:"vihara_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[8]||(e[8]=t("option",{value:"",disabled:""},"Pilih Vihara",-1)),(s(!0),i(g,null,v(m.value,r=>(s(),i("option",{key:r.id,value:r.id},l(r.nama_vihara),9,K))),128))],512),[[_,o(a).vihara_id]]),d.errors.vihara_id?(s(),i("p",L,l(d.errors.vihara_id),1)):b("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"pandita_id",class:"block text-sm font-medium text-gray-700"},"Pandita",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).pandita_id=r),id:"pandita_id",class:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200",required:""},[e[10]||(e[10]=t("option",{value:"",disabled:""},"Pilih Pandita",-1)),(s(!0),i(g,null,v(d.panditas,r=>(s(),i("option",{key:r.id,value:r.id},l(r.nama_pandita),9,T))),128))],512),[[_,o(a).pandita_id]]),d.errors.pandita_id?(s(),i("p",z,l(d.errors.pandita_id),1)):b("",!0)])]),t("div",H,[f(o(N),{disabled:o(a).processing},{default:c(()=>e[12]||(e[12]=[U("Save")])),_:1},8,["disabled"]),f(o(C),{show:o(a).recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:c(()=>e[13]||(e[13]=[t("p",{class:"text-sm text-neutral-600"},"Saved.",-1)])),_:1},8,["show"])])],32)])]),_:1})]),_:1}))}};export{Z as default};
